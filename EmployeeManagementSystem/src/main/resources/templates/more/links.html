<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      th:replace="~{layout :: main-layout(~{::body})}">
<body>

    <style>
        /* --- TAB STYLES (Copied from tabs.html) --- */
        .tabs {
            display: flex;
            border-bottom: 2px solid #ccc;
            margin-bottom: 20px;
        }

        .tab-btn {
            padding: 10px 20px;
            cursor: pointer;
            border: 1px solid #ccc;
            border-bottom: none;
            background: #f5f5f5;
            margin-right: 5px;
            font-size: 14px;
            color: #333;
            outline: none;
        }

        .tab-btn:hover {
            background-color: #e9e9e9;
        }

        .tab-btn.active {
            background: white;
            font-weight: bold;
            border-bottom: 2px solid white; /* Hides the bottom line */
            margin-bottom: -2px; /* Pushes it down to cover the line */
        }

        /* --- CONTENT STYLES --- */
        .tab-content {
            background: white;
            padding: 20px;
            border: 1px solid #ccc;
            border-top: none; /* Merges with the tab above */
        }

        .hidden {
            display: none;
        }

        /* --- LINK BUTTON STYLES --- */
        .link-btn {
            display: block;
            margin-bottom: 10px;
            color: #3c8dbc;
            cursor: pointer;
            text-decoration: underline;
            background: none;
            border: none;
            padding: 0;
            font-size: 16px;
            text-align: left;
        }
        
        .link-btn:hover {
            color: #286090;
        }

        img {
            width: 100px;
            margin-right: 20px;
            cursor: pointer;
            border: 1px solid #ddd;
            padding: 5px;
            border-radius: 4px;
            transition: transform 0.2s;
        }
        
        img:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
    </style>

    <h2>Links Feature</h2>

    <div class="tabs">
        <button class="tab-btn active" onclick="openTab('working')">Working Links</button>
        <button class="tab-btn" onclick="openTab('broken')">Broken Links</button>
        <button class="tab-btn" onclick="openTab('image')">Image Links</button>
        <button class="tab-btn" onclick="openTab('status')">Status Codes</button>
    </div>

    <div id="working" class="tab-content">
        <p style="margin-bottom:15px; color:#666;">Click these links to open them in a new window:</p>
        <button class="link-btn" onclick="openPopup('https://www.google.com')">Link 1 (Google)</button>
        <button class="link-btn" onclick="openPopup('https://www.github.com')">Link 2 (GitHub)</button>
        <button class="link-btn" onclick="openPopup('https://stackoverflow.com')">Link 3 (StackOverflow)</button>
    </div>

    <div id="broken" class="tab-content hidden">
        <p style="margin-bottom:15px; color:#666;">These links point to non-existent pages:</p>
        <button class="link-btn" onclick="openPopup('https://thissitedoesnotexist123.com')">
            Broken Link 1
        </button>
        <button class="link-btn" onclick="openPopup('https://invalid.test.link')">
            Broken Link 2
        </button>
    </div>

    <div id="image" class="tab-content hidden">
        <p style="margin-bottom:15px; color:#666;">Click the images to navigate:</p>
        <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png"
             onclick="openPopup('https://www.google.com')" title="Go to Google">

        <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"
             onclick="openPopup('https://www.github.com')" title="Go to GitHub">
    </div>

    <div id="status" class="tab-content hidden">
        <p style="margin-bottom:15px; color:#666;">Test different HTTP status codes:</p>
        <div style="display: flex; gap: 15px;">
            <a th:href="@{/more/status/200}" class="link-btn">200 OK</a>
            <a th:href="@{/more/status/301}" class="link-btn">301 Moved</a>
            <a th:href="@{/more/status/404}" class="link-btn">404 Not Found</a>
            <a th:href="@{/more/status/500}" class="link-btn">500 Server Error</a>
        </div>
    </div>

    <script>
        function openTab(tab) {
            // Hide all contents
            document.querySelectorAll(".tab-content").forEach(t => t.classList.add("hidden"));
            // Deactivate all buttons
            document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));

            // Show selected content and activate button
            document.getElementById(tab).classList.remove("hidden");
            event.target.classList.add("active");
        }

        function openPopup(url) {
            window.open(
                url,
                "_blank",
                "width=800,height=600,menubar=yes,toolbar=yes,resizable=yes"
            );
        }
    </script>

</body>
</html>
