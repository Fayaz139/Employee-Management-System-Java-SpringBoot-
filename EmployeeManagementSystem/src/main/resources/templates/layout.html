<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="main-layout(content)">
<head>
    <title>JALA Academy Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- GLOBAL RESET --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: 'Source Sans Pro', sans-serif; 
            background-color: #ecf0f5; 
            height: 100vh; 
            overflow: hidden; /* Body doesn't scroll, inner parts do */
            display: flex; 
            flex-direction: column; 
        }
        
        /* --- HEADER --- */
        .header { display: flex; height: 50px; background-color: #3c8dbc; color: white; flex-shrink: 0; z-index: 1000; justify-content: space-between; align-items: center; padding: 0;}
        .logo { width: 230px; height: 100%; background-color: #367fa9; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 20px; }
        .navbar-right { padding-right: 20px; }
        .logout-btn { color: white; text-decoration: none; font-size: 14px; background: #e74c3c; padding: 5px 10px; border-radius: 3px;}
        
        /* --- MAIN WRAPPER (Sidebar + Right Side) --- */
        .wrapper { 
            display: flex; 
            flex: 1; 
            height: calc(100vh - 50px); /* Fill remaining height */
        }
        
        /* --- SIDEBAR --- */
        .sidebar { width: 230px; background-color: #222d32; color: #b8c7ce; display: flex; flex-direction: column; overflow-y: auto; flex-shrink: 0; }
        .user-panel { padding: 15px; border-bottom: 1px solid #3e494e; display: flex; gap: 10px; align-items: center; }
        .user-img { width: 40px; height: 40px; border-radius: 50%; background: white; color: #333; display: flex; align-items: center; justify-content: center;}
        
        /* MENU STYLES */
        .sidebar-menu { list-style: none; margin-top: 10px; }
        .header-text { padding: 10px 15px; font-size: 12px; background: #1a2226; text-transform: uppercase; color: #4b646f; margin-top: 5px;}
        .sidebar-menu li a { padding: 12px 15px; display: block; color: #b8c7ce; text-decoration: none; border-left: 3px solid transparent; transition: 0.3s; position: relative;}
        .sidebar-menu li a:hover { background-color: #1e282c; color: white; border-left-color: #3c8dbc; }
        .sidebar-menu i { width: 25px; }

        /* DROPDOWN */
        .treeview-menu { display: none; list-style: none; background-color: #2c3b41; padding-left: 0; }
        .treeview-menu li a { padding-left: 35px; font-size: 14px; }
        .pull-right-container { float: right; transition: transform 0.3s; }
        .menu-open > a .pull-right-container { transform: rotate(-90deg); }

        /* --- RIGHT SIDE COLUMN (Holds Content + Footer) --- */
        .right-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* Scroll happens here */
            background-color: #ecf0f5;
        }

        /* Content Container (Applies the padding ONLY to the content) */
        .content-container {
            flex: 1; /* Pushes footer down */
            padding: 20px; /* Indent content */
        }

        /* --- FOOTER (Now spans full width) --- */
        .footer { 
            background: white; 
            padding: 15px; 
            border-top: 1px solid #d2d6de; 
            color: #444; 
            font-size: 14px; 
            
            /* ALIGNMENT FIXES */
            text-align: left; /* Moved from Right to Left */
            width: 100%;
            flex-shrink: 0;
        }
    </style>
</head>
<body>

    <header class="header">
        <div class="logo">Magnus</div>
        <div class="navbar-right">
            <a th:href="@{/logout}" class="logout-btn">Logout</a>
        </div>
    </header>

    <div class="wrapper">
        <aside class="sidebar">
            <div class="user-panel">
                <div class="user-img"><i class="fas fa-user"></i></div>
                <div>
                    <p style="color:#fff; font-weight:600; margin-bottom: 2px;">Guest User</p>
                    <span style="font-size:12px;"><i class="fas fa-circle" style="color:#3c763d; font-size:10px;"></i> Online</span>
                </div>
            </div>

            <ul class="sidebar-menu">
                <li class="header-text">MAIN NAVIGATION</li>
                <li><a th:href="@{/home}"><i class="fas fa-home"></i> <span>Home</span></a></li>
                
                <li class="treeview">
                    <a href="#">
                        <i class="fas fa-users"></i> <span>Employee</span>
                        <span class="pull-right-container"><i class="fas fa-angle-left"></i></span>
                    </a>
                    <ul class="treeview-menu">
                        <li><a th:href="@{/employees/create}"><i class="far fa-circle"></i> Create</a></li>
                        <li><a th:href="@{/employees}"><i class="far fa-circle"></i> View Employees</a></li>
                    </ul>
                </li>

                <li class="header-text">MORE FEATURES</li>
                <li><a th:href="@{/more/tabs}"><i class="far fa-window-maximize"></i> <span>Tabs</span></a></li>
                <li><a th:href="@{/more/menu}"><i class="fas fa-bars"></i> <span>Menu</span></a></li>
                <li><a th:href="@{/more/autocomplete}"><i class="fas fa-search"></i> <span>Autocomplete</span></a></li>
                <li><a th:href="@{/more/collapse}"><i class="fas fa-minus-square"></i> <span>Collapse</span></a></li>
                <li><a th:href="@{/more/slider}"><i class="fas fa-sliders-h"></i> <span>Slider</span></a></li>
                <li><a th:href="@{/more/tooltip}"><i class="fas fa-comment-alt"></i> <span>Tooltip</span></a></li>
                <li><a th:href="@{/more/popups}"><i class="fas fa-window-restore"></i> <span>Popups</span></a></li>
                <li><a th:href="@{/more/links}"><i class="fas fa-link"></i> <span>Links</span></a></li>
                <li><a th:href="@{/more/css-properties}"><i class="fab fa-css3-alt"></i> <span>CSS Properties</span></a></li>
                <li><a th:href="@{/more/iframes}"><i class="fas fa-window-frame"></i> <span>iFrames</span></a></li>
                <li><a th:href="@{/more/image-upload}"><i class="fas fa-upload"></i> <span>Image Upload</span></a></li>
            </ul>
        </aside>

        <div class="right-column">
            
            <div class="content-container">
                <div th:replace="${content}"></div>
            </div>
            
            <footer class="footer">
                <strong>Copyright Â© 2026 <a href="#" style="color: #3c8dbc; text-decoration:none;">JALA Technologies</a>.</strong> All rights reserved.
            </footer>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function(){
            var treeviews = document.querySelectorAll('.treeview > a');
            treeviews.forEach(function(item){
                item.addEventListener('click', function(e){
                    e.preventDefault();
                    var parent = this.parentElement;
                    var submenu = parent.querySelector('.treeview-menu');
                    parent.classList.toggle('menu-open');
                    if (submenu.style.display === 'block') {
                        submenu.style.display = 'none';
                    } else {
                        submenu.style.display = 'block';
                    }
                });
            });
        });
    </script>

</body>
</html>
